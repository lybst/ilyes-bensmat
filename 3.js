!function(e){e.tinyTimer=function(t){var i,n=this,s=(n.options=t).element,o=new Date(t.from||t.to).getTime(),r=!!t.from||-1,a=Math,l=function(){};n.interval=setInterval(i=function(){if(!n.paused){var i=a.max(a.round((Date.now()-o)*r/1e3),0),c={S:i,s:i%60,M:a.floor(i/=60),H:a.floor(i/=60),D:a.floor(i/=24)};c.m=c.M%60,c.h=c.H%24,c.d=c.D,c.text=(t.format||"%-H{:}%0m:%0s").replace(/%(-?)(0?)([dhms])(\s*)(?:\{(.+?)\})?/gi,t.replacer||function(e,t,i,n,s,o){var r=c[n];return(o=(o||"").split("|"))[2]=o[2]||(o[1]=o[1]||o[0]),!r&&t?"":(r>9?"":i)+r+s+o[+(1!=r)+(1!=r&&(2>r%10||r%10>4)||r>10&&20>r)]}),s?e(s).html(c.text):s=n,(t.onTick||l).call(s,n.val=c),0>r&&!i&&(clearInterval(n.interval),(t.onEnd||l).call(s,c))}},1e3),i(),n.pause=n.stop=function(){n.paused=Date.now()},n.resume=function(){o-=(n.paused-Date.now())*r,n.paused=0},n.start=function(){n.paused=0}},e.fn.tinyTimer=function(t){return this.each(function(){e(this).data("tinyTimer",new e.tinyTimer(e.extend(t,{element:e(this)})))})}}(jQuery);
